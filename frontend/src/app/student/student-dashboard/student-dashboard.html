<div class="page-wrap">

  <!-- HEADER -->
  <header class="topbar">
    <h1 class="greeting">HELLO, {{ userName().toUpperCase() }}!</h1>

    <div class="search-wrapper">
      <input class="search-input" type="search" placeholder="Search"/>
      <svg class="search-icon" viewBox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </header>

  <!-- MAIN GRID -->
  <main class="main-grid">

    <!-- LEFT/CENTER (3fr) -->
    <section class="left-grid">

      <!-- LINKED TEACHERS -->
      <div class="card card-teachers">
        <h2>Linked Teachers</h2>
        <div *ngFor="let t of teachers()" class="teacher-item">
          <div class="teacher-left">
            <img [src]="t.avatarUrl" [alt]="t.name" class="teacher-avatar"/>
            <div class="teacher-meta">
              <div class="t-name">{{ t.name }}</div>
              <div class="t-role">{{ t.role }}</div>
            </div>
          </div>
          <button class="message-btn" title="Message">
            <svg viewBox="0 0 24 24" class="icon-small"><path d="M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
        <a class="see-more" href="#">See more &gt;</a>
      </div>

      <!-- UPCOMING EVENTS -->
      <div class="card card-events">
        <h2>Upcoming events</h2>
        <div *ngFor="let e of events()" class="event-item">
          <img [src]="e.imageUrl" [alt]="e.title" class="event-image"/>
          <div class="event-meta">
            <div class="e-title">{{ e.title }}</div>
            <div class="e-sub"><span>{{ e.date }}</span> Â· <strong>{{ e.time }}</strong></div>
          </div>
          <button class="message-btn" title="Details">
            <svg viewBox="0 0 24 24" class="icon-small"><path d="M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
        <a class="see-more" href="#">See more &gt;</a>
      </div>

      <!-- MY SCHEDULE & CALENDAR (big lavender block) -->
      <div class="card card-schedule lavender">
        <h2>My schedule</h2>

        <div class="schedule-inner">
          <!-- calendar -->
          <div class="calendar-box">
            <div class="calendar-header">
              <button class="cal-nav">&lt;</button>
              <div class="month">May 2025</div>
              <button class="cal-nav">&gt;</button>
            </div>

            <div class="calendar-grid-week">
              <div>M</div><div>T</div><div>W</div><div>T</div><div>F</div><div>S</div><div>S</div>
            </div>

            <div class="calendar-grid-days">
              <!-- replicate same days used in mock -->
              <div class="calendar-day"></div><div class="calendar-day"></div>
              <div class="calendar-day">1</div><div class="calendar-day">2</div><div class="calendar-day">3</div>
              <div class="calendar-day highlight">4</div><div class="calendar-day highlight">5</div>

              <div class="calendar-day">6</div><div class="calendar-day">7</div><div class="calendar-day">8</div><div class="calendar-day">9</div><div class="calendar-day">10</div>
              <div class="calendar-day highlight">11</div><div class="calendar-day highlight">12</div>

              <div class="calendar-day">13</div><div class="calendar-day">14</div><div class="calendar-day">15</div><div class="calendar-day">16</div>
              <div class="calendar-day selected">17</div><div class="calendar-day">18</div><div class="calendar-day highlight">19</div>

              <div class="calendar-day">20</div><div class="calendar-day">21</div><div class="calendar-day">22</div><div class="calendar-day">23</div>
              <div class="calendar-day highlight">24</div><div class="calendar-day highlight">25</div><div class="calendar-day highlight">26</div>

              <div class="calendar-day">27</div><div class="calendar-day">28</div><div class="calendar-day">29</div><div class="calendar-day">30</div><div class="calendar-day">31</div>
            </div>
          </div>

          <!-- schedule list -->
          <div class="schedule-list">
            <div *ngFor="let l of dailyLessons()" class="schedule-item">
              <div class="schedule-day">{{ l.day }}</div>
              <div class="schedule-card">
                <div class="lesson-title">{{ l.title }}</div>
                <div class="lesson-time">{{ l.time }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>

    <!-- RIGHT (1fr) -->
    <aside class="right-column">

      <div class="card card-purple">
        <h2>Attendance</h2>
        <div class="gauge-wrap">
          <div class="gauge-container" [ngStyle]="{ 'background': gaugeStyle(attendance(), '#FF6B9A') }" style="--value: 60deg;">
            <span>{{ attendance() }}%</span>
            <div class="gauge-inner-circle"></div>
          </div>
        </div>
      </div>

      <div class="card card-purple">
        <h2>Homework</h2>
        <div class="gauge-wrap">
          <div class="gauge-container" [ngStyle]="{ 'background': gaugeStyle(homework(), '#68E0C6') }" style="--value: 324deg;">
            <span>{{ homework() }}%</span>
            <div class="gauge-inner-circle"></div>
          </div>
        </div>
      </div>

      <div class="card card-purple">
        <h2>Rating</h2>
        <div class="gauge-wrap">
          <div class="gauge-container" [ngStyle]="{ 'background': gaugeStyle(rating(), '#FFD36B') }" style="--value: 270deg;">
            <span>{{ rating() }}%</span>
            <div class="gauge-inner-circle"></div>
          </div>
        </div>
        <a class="see-more white" href="#">See more &gt;</a>
      </div>

    </aside>
  </main>
</div>
